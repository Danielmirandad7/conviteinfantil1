<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Convite Interativo — Final</title>
<style>
  :root {
    --pause-at: 7.935;
  }
  html, body {
    margin: 0; padding: 0; height: 100%; width: 100%;
    background:#000; overflow:hidden; touch-action: manipulation;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  }
  #stage { position: fixed; inset: 0; display: grid; place-items: center; background:#000; }
  .frame {
    aspect-ratio: 3 / 4;
    width: min(75vh, 100vw);
    max-height: 100vh;
    background:#000; position: relative; overflow:hidden;
    box-shadow: 0 10px 40px rgba(0,0,0,.6);
  }
  video {
    position: absolute; inset: 0; width:100%; height:100%;
    object-fit: contain; background:#000;
    clip-path: inset(0px 0px 30px 0px); /* corta 30px da parte inferior */
  }
  /* Tela inicial com imagem em 100% */
  #overlay {
    position:absolute; inset:0; display:grid; place-items:center;
    background: url('file:///mnt/data/Imagem%20do%20WhatsApp%20de%202025-11-08%20%C3%A0%28s%29%2010.08.00_c26936e7.jpg') center/cover no-repeat;
    z-index:2; user-select:none;
  }
  /* Máscara para esconder “toque na tela” que estava na imagem (faixa central) */
  #overlay::before {
    content:""; position:absolute; inset:0; pointer-events:none;
    background: radial-gradient(40% 18% at 50% 48%, rgba(0,0,0,0.92) 0%, rgba(0,0,0,0.75) 50%, rgba(0,0,0,0.0) 85%);
  }
  /* Máscara extra para cobrir um nome branco no canto inferior direito */
  #overlay::after {
    content:""; position:absolute; right:0; bottom:0; pointer-events:none;
    width: 55%; height: 38%;
    background: radial-gradient(60% 60% at 80% 80%, rgba(0,0,0,0.98), rgba(0,0,0,0.75) 60%, rgba(0,0,0,0.0) 100%);
  }
  #overlay h1 {
    position:relative; margin:0;
    font-size: clamp(22px, 6vw, 34px);
    color:#d4af37;
    text-shadow: 0 2px 8px rgba(0,0,0,.7), 0 0 12px rgba(212,175,55,.45);
    letter-spacing:.4px;
  }

  /* === Overlay de PDF em tela cheia (aparece quando o vídeo termina) === */
  #pdfOverlay {
    position: fixed; inset: 0; background: #0b0b0b; display: none; z-index: 9999;
  }
  #pdfOverlay iframe {
    position: absolute; inset: 0; width: 100%; height: 100%; border: 0; background: #111;
  }
  #pdfToolbar {
    position: absolute; top: 10px; right: 10px; display: flex; gap: 8px; z-index: 10000;
  }
  .btnOpen {
    appearance: none; border: none; border-radius: 999px; padding: 10px 14px; font-weight: 700;
    color: #061018; background: linear-gradient(180deg, #b6e3ff, #6ec6ff);
    box-shadow: 0 8px 20px rgba(110,198,255,.35), inset 0 0 0 1px rgba(0,0,0,0.15);
    text-decoration: none;
  }
</style>
</head>
<body>
  <div id="stage">
    <div class="frame">
      <video id="video" playsinline></video>
      <div id="overlay"><h1>Toque Aqui</h1></div>
    </div>
  </div>

  <!-- PDF em tela cheia ao final -->
  <div id="pdfOverlay" aria-hidden="true">
    <div id="pdfToolbar">
      <a class="btnOpen" href="Convite_Ana_Maria.pdf" target="_blank" rel="noopener">Abrir PDF em nova aba</a>
    </div>
    <iframe id="pdfFrame" src="Convite_Ana_Maria.pdf#view=FitH&pagemode=none" title="Convite PDF"></iframe>
  </div>

<script>
const VIDEO_DATA = "video.mp4";           // vídeo externo leve
const PAUSE_AT = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--pause-at')) || 7.935;
let started_ = false;
let pausedByCue_ = false;
const video = document.getElementById('video');
const overlay = document.getElementById('overlay');
const pdf = document.getElementById('pdfOverlay');

function startOrResume() {
  if (!started_) {
    video.src = VIDEO_DATA;
    video.controls = false;
    video.muted = false;   // gesto do usuário libera áudio
    video.playsInline = true;
    started_ = true;
  }
  overlay.style.display = 'none';
  video.play().catch(()=>{});
}

// Pausa no meio sem overlay
video.addEventListener('timeupdate', () => {
  if (!pausedByCue_ && video.currentTime >= PAUSE_AT) {
    pausedByCue_ = true;
    video.pause();
  }
});

// Ao tocar, retoma e segue até o fim
document.addEventListener('click', startOrResume, {passive: true});
document.addEventListener('touchend', startOrResume, {passive: true});

// Ao terminar o vídeo, some com o stage e mostra o PDF em tela cheia
video.addEventListener('ended', () => {
  const stage = document.getElementById('stage');
  if (stage) stage.style.display = 'none';
  if (pdf) pdf.style.display = 'block';
});
</script>
</body>
</html>
